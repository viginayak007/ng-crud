<!DOCTYPE html>
<html ng-app="App">
<head>
 
 
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="app.js"></script>

<title>EmployeeData</title>
 
 
</head>
<body ng-controller="Ctrl">
    <div class="container">
        <div class="row">
            <div class="col-12 bg-dark text-light text-center">
                <h3>
                    Employees
                </h3> 
            </div>
        </div>
    </div>
    <div class="container">
        <table class="table table-striped table-bordered">
            <tr>
                <td><label for="ID">ID</label></td>
                <td><input type="text" id="ID" ng-model="data.ID" disabled></td>
            </tr>
            <tr>
                <td><label for="name">Name</label></td>
                <td><input type="text" id="name" ng-model="data.name"></td>
            </tr>
            <tr>
                <td> <label for="add">Address</label></td>
                <td><input type="text" id="add" ng-model="data.address"></td>
            </tr>
            <tr>
                <td> <label for="dept">Department</label></td>
                <td><input type="text" id="dept" ng-model="data.department"></td>
            </tr>
            <tr>
                <td> <label for="city">City</label></td>
                <td><input type="text" id="city" ng-model="data.city"></td>
            </tr>
            <tr>  
                <td colspan="2">
                    <button  class="btn btn-primary" ng-click="submit()">{{ data.ID ? 'Edit' : 'Add' }} </button>
                    <button type="button" class="btn btn-danger" ng-if="data.ID" ng-click="cancel()">Cancel</button>
                    <small ng-if="error.add"> {{ error.addmsg }}</small>
                </td>
            </tr>
        </table>
    </div>
    <div class="container">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Department</th>
                    <th>City</th>
                </tr>
            </thead>
            <tbody ng-if="!loading.empList">
                <tr ng-repeat="emp in empData" ng-if="empData.length > 0" ng-if="emp.ID != data.ID">
                    <td>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary" ng-click="edit(emp)">Edit</button>
                            <button type="button" class="btn btn-danger" ng-click="delete(emp)">Delete</button>
                          </div>
                    </td>
                    <td>{{ emp.name }}</td>
                    <td>{{ emp.address }}</td>
                    <td>{{ emp.department }}</td>
                    <td>{{ emp.city }}</td>
                </tr>
                <tr class="text-center"  ng-if="empData.length == 0">
                    <td colspan="5">
                        No record found
                    </td> 
                </tr>
            </tbody>
            <tbody ng-if="loading.empList">
                <tr>
                    <th class="text-center" colspan="5">
                        <div class="spinner-border" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
    </div>
</body>
 </html>